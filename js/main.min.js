$(window).on("load",function(){TweenLite.to($(".loading .txt"),.4,{autoAlpha:1,y:0}),TweenLite.to($(".progress"),.5,{autoAlpha:1,delay:.4}),TweenLite.to($(".bar-loading"),.7,{width:"100%",delay:1}),TweenLite.to($(".loading"),.7,{y:-100,autoAlpha:0,delay:1.7}),TweenLite.to($("#loader"),3,{y:-3e3,delay:2,ease:"easeOutExpo"}),TweenLite.from($(".hero"),1,{y:100,delay:2,ease:"easeOutExpo"}),setTimeout(function(){window.scrollTo(0,0)},2e3),setTimeout(function(){$("#loader").remove()},3e3)}),$(document).ready(function(){function e(){i(),a(),l(),f(),u(),o(),n(),c(),m(),s(),$(window).resize(m)}function t(t){$.get(t,function(t){var a=$("<main>"+t+"</main>"),i=a.find("main").html(),o=a.find("title").html();$("head title").html(o),$("main").html(i),e(),window.scrollTo(0,0),$(".page-overlay").addClass("from-bottom"),setTimeout(function(){$(".page-overlay").addClass("from-bottom-end"),setTimeout(function(){$(".page-overlay").removeClass("from-bottom"),$(".page-overlay").removeClass("from-bottom-end")},800)},500)})}function a(){if($(".forslide").length){var e=window.document,t=e.querySelector(".forslide"),a=t.querySelectorAll(".is-clone"),i=!1,o=0,n=0,l=0,s=0;function r(){return(t.pageYOffset||t.scrollTop)-(t.clientTop||0)}function d(e){t.scrollTop=e}function c(){for(l=0,s=0;s<a.length;s+=1)l+=a[s].offsetHeight;return l}function u(){n=r(),o=t.scrollHeight,l=c(),n<=0&&d(1)}function f(){i||(n=r(),l+n>=o?(d(1),i=!0):n<=0&&(d(o-l),i=!0)),i&&window.setTimeout(function(){i=!1},40)}function m(){u(),t.addEventListener("scroll",function(){window.requestAnimationFrame(f)},!1),window.addEventListener("resize",function(){window.requestAnimationFrame(u)},!1)}function h(){$(".forslide.slider-images li").length;var e=$(this).index();$(".forslide.slider-images li:eq("+e+")").addClass("focus"),$(".focus").find("video").get(0).play()}function p(){$(".forslide.slider-images li").removeClass("focus"),$(".focus").find("video").get(0).pause()}"loading"!==document.readyState?m():e.addEventListener("DOMContentLoaded",m,!1),$(".allworks .infinity-list").hover(h,p)}}function i(){if($("#letter-slider").length){$("html").addClass("showcase");var e=$(".swiper-slide .slide-content .title");for(let a=0;a<e.length;a++){var t=e[a].textContent.charAt(0);$(".bullets ul").append('<li class="magnetize" data-dist="1"> <span data-cursor-type="medium">'+t+"\n</span></li>")}$(".bullets ul li:first-child, .slider-images ul li:first-child").addClass("focus");var a=new Swiper(".swiper-container",{speed:1e3,direction:"vertical",slidesPerView:"auto",simulateTouch:!1,mousewheel:!0,on:{slideChange:function(){var e=a.activeIndex,t=-55*e;$(".bullets ul li, .slider-images ul li").removeClass("focus"),$(".bullets ul li:eq("+e+"), .slider-images ul li:eq("+e+")").addClass("focus"),$(".bullets ul").css("margin-top",t),$(".slider-images").find("video").each(function(){this.pause()}),$(".slider-images .focus").find("video").each(function(){this.play()})}}});$(".bullets ul li").on("click",function(){a.slideTo($(this).index())})}else $("html").removeClass("showcase")}function o(){if($("#wide-slider").length){$("html").addClass("wide-slider");var e=$(".swiper-container").data("autoplay"),t=$(".swiper-container").data("autospeed"),a=new Swiper(".swiper-container",{direction:"horizontal",centeredSlides:!0,slidesPerView:"auto",speed:1e3,autoplay:{delay:1e3*t},loop:!0,mousewheel:!0,coverflowEffect:{rotate:0,stretch:0,depth:300,modifier:1,slideShadows:!0},pagination:{el:".swiper-pagination",clickable:!0,renderBullet:function(e,t){return'<span class="'+t+'"><div data-cursor-type="medium" class="bullet-outter"><svg data-cursor-type="medium" class="fp-arc-loader" width="20" height="20" viewBox="0 0 20 20"><circle class="path" cx="10" cy="10" r="5.5" fill="none" transform="rotate(-90 10 10)" stroke="#FFF"stroke-opacity="1" stroke-width="2px"></circle><circle  data-cursor-type="medium" cx="10" cy="10" r="3" fill="#FFF"></circle></svg></div></span>'}}});!1===e&&a.autoplay.stop()}}function n(){if($("#wheel-slider").length){$("html").addClass("wheel-slider");$(".swiper-container").data("autoplay");var e=$(".swiper-container").data("autospeed");new Swiper(".swiper-container",{effect:"coverflow",centeredSlides:!0,slidesPerView:"auto",allowTouchMove:!0,simulateTouch:!1,speed:1e3,autoplay:{delay:1e3*e},loop:!0,mousewheel:!0,coverflowEffect:{rotate:0,stretch:0,depth:150,modifier:1,slideShadows:!0}})}$(".slide-content").mouseenter(function(e){$(this).next().find("video").each(function(){$(this).get(0).play()})}),$(".slide-content").mouseleave(function(e){$(this).next().find("video").each(function(){$(this).get(0).pause()})})}function l(){if($(".masonry").length){var e=$(".masonry");e.isotope({layoutMode:"packery",itemSelector:".grid-item",gutter:0,transitionDuration:"0.5s",columnWidth:".grid-item"}),$(".portfolio-filter ul li a").on("click",function(){$(".portfolio-filter ul li a").removeClass("select-cat"),$(this).addClass("select-cat");var e=$(this).attr("data-filter");return $(".masonry").isotope({filter:e,animationOptions:{duration:750,easing:"linear",queue:!1}}),!1}),TweenMax.set(".portfolio-filter",{autoAlpha:0}),$(".filter-icon").on("click",function(){TweenMax.to(".portfolio-filter",.3,{autoAlpha:1}),TweenMax.staggerFrom(".portfolio-filter ul > li",.5,{y:"50",autoAlpha:0,ease:Back.easeOut},.2)}),$(".close-filter,  .portfolio-filter ul li a").on("click",function(){TweenMax.to(".portfolio-filter",.3,{autoAlpha:0,delay:.5})}),$(".portfolio-filter, .portfolio-filter ul li a").on("click",function(e){if(!$(e.target).is(".portfolio-filter ul li a"))return TweenMax.to(".portfolio-filter",.3,{autoAlpha:0}),!1}),$(window).on("scroll",function(){var e=$(window).scrollTop(),t=$(".filter-icon, .allworks-link.grid-portfolio");e>=200?($(t).addClass("magnetize"),TweenMax.from(t,.5,{y:0,autoAlpha:1},1)):($(t).removeClass("magnetize"),TweenMax.to(t,.5,{y:200,autoAlpha:0},1))}),$(".grid-item:even").addClass("wide"),$(".grid-item .portfolio-item").on("mouseenter",function(){TweenMax.to(".portfolio-big-title",.5,{y:100,autoAlpha:1},1),$(this).data("title")&&$(".portfolio-big-title .title").html("<span>"+$(this).data("title")+"</span>"),$(this).data("category")&&$(".portfolio-big-title .category").html("<span>"+$(this).data("category")+"</span>")}),$(".grid-item .portfolio-item").on("mouseleave",function(){TweenMax.to(".portfolio-big-title",.5,{y:0,autoAlpha:0},1)}),$(".video-wrapper").mouseenter(function(e){$(this).find("video").each(function(){$(this).get(0).play()})}),$(".video-wrapper").mouseleave(function(e){$(this).find("video").each(function(){$(this).get(0).pause()})})}}function s(){function e(e){function a(){t.find(".cursor__label").text("")}TweenMax.to(t,0,{left:e.clientX-t.width()/2,top:e.clientY-t.height()/2}),"medium"==$(e.target).data("cursor-type")?(t.removeClass().addClass("is-medium"),a()):"big"==$(e.target).data("cursor-type")?"btn-play"==$(e.target).data("cursor-text")?(t.removeClass().addClass("is-play").addClass("is-big"),a()):"btn-pause"==$(e.target).data("cursor-text")?(t.removeClass().addClass("is-pause").addClass("is-big"),a()):(t.removeClass().addClass("is-view").addClass("is-big"),t.find(".cursor__label").text($(e.target).data("cursor-text"))):(t.removeClass(),a())}var t=$("#cursor");$("body, main, a").css("cursor","none");var a=function(){$(window).on("mousemove",e)};a(),$(window).resize(a)}function r(){if($(window).width()>=1024){function e(e,a){var i=a.pageX,o=a.pageY;const n=$(e),l=20*n.data("dist")||120,s=n.offset().left+n.width()/2,r=n.offset().top+n.height()/2;var d=-.45*Math.floor(s-i),c=-.45*Math.floor(r-o),u=t(n,i,o);u<l?(TweenMax.to(n,.5,{y:c,x:d}),n.addClass("magnet")):(TweenMax.to(n,.6,{y:0,x:0,scale:1}),n.removeClass("magnet"))}function t(e,t,a){return Math.floor(Math.sqrt(Math.pow(t-(e.offset().left+e.width()/2),2)+Math.pow(a-(e.offset().top+e.height()/2),2)))}$(document).on("mousemove touch",function(t){$(".magnetize").each(function(){e(this,t)})})}}function d(){$(".right-menu").length&&($('<div class="plus" data-cursor-type="medium"><span data-cursor-type="medium"></span><span data-cursor-type="medium"></span></div>').insertAfter('.right-menu nav ul li.hassub a:not("ul li ul li a")'),$(".hassub .plus").on("click",function(){$(this).toggleClass("active"),$(this).next("ul").slideToggle()}),$("header.half-menu .nav-icon, .overlay-bg").on("click",function(){$(".right-menu, header, .overlay-bg").toggleClass("right-menu-active"),setTimeout(function(){$("header:not(.darkness header)").toggleClass("active")},200)}));var e=0;$(window).scroll(function(t){var a=$(this).scrollTop();a>500?($("header").addClass("sticky"),$("header").addClass("hide"),$("header").addClass("addbg")):($("header").removeClass("sticky"),$("header").removeClass("hide"),$("header").removeClass("addbg")),a>e?$("header").removeClass("animate"):($("header").addClass("animate"),$("header").removeClass("hide")),e=a})}function c(){jQuery("#contact-formular").length>0&&$("#contactform").submit(function(){var e=$(this).attr("action");return $("#message").slideUp(750,function(){$("#message").hide(),$("#submit").attr("disabled","disabled"),$.post(e,{name:$("#name").val(),email:$("#email").val(),comments:$("#comments").val()},function(e){document.getElementById("message").innerHTML=e,$("#message").slideDown("slow"),$("#contactform img.loader").fadeOut("slow",function(){$(this).remove()}),$("#submit").removeAttr("disabled"),null!=e.match("success")&&$("#contactform").slideUp("slow")})}),!1})}function u(){$(".map").length&&($(".open-map").on("click",function(){TweenMax.to(".map",.3,{autoAlpha:1,display:"block"}),TweenMax.to(".overlay-map",.2,{display:"block",autoAlpha:1})}),$(".overlay-map").on("click",function(){TweenMax.to(".map",.3,{autoAlpha:0,display:"none"}),TweenMax.to(".overlay-map",.2,{display:"none",autoAlpha:0})}))}function f(){$(".lightbox").length&&$(".lightbox").magnificPopup({type:"image",gallery:{enabled:!0},zoom:{enabled:!0,duration:300}})}function m(){if($("header.classic-menu").length&&$("header.classic-menu nav ul li a:not('header.classic-menu nav ul li ul li a')").hover(function(){$("header.classic-menu nav ul li a").not(this).not("header.classic-menu nav ul li ul li a").css("opacity",".5")},function(){$("header.classic-menu nav ul li a").not(this).not("header.classic-menu nav ul li ul li a").css("opacity","1")}),$(window).width()<=991){var e=new TimelineMax({yoyo:!1,reversed:!0});e.pause(),e.from($("header.classic-menu nav ul li").find("ul"),.2,{height:"0",autoAlpha:0,display:"none"}),e.to($("header.classic-menu nav ul li").find("i"),.1,{rotation:180}),$("header.classic-menu nav ul li").on("click",function(){e.reversed()?e.play():e.reverse()});var t=new TimelineMax({yoyo:!1,reversed:!0});t.pause(),t.to("header.classic-menu .close-menu span:first-child",.2,{rotation:45,y:6}),t.to("header.classic-menu .close-menu span:last-child",.2,{width:"100%",rotation:-45}),t.from("header.classic-menu nav",.5,{display:"none",autoAlpha:0,ease:Back.easeOut},.2),t.staggerFrom("header.classic-menu nav ul li:not('header.classic-menu nav ul li ul li')",.6,{y:"50",autoAlpha:0,ease:Back.easeOut},.1),$("header.classic-menu .close-menu").on("click",function(){t.reversed()?t.play():t.reverse()})}if($(".uptotop").on("click",function(){$("html, body").animate({scrollTop:0})}),$(".down-link").on("click",function(e){e.preventDefault(),$("html, body").animate({scrollTop:$(window).height()},1e3)}),$(".darkness").length||($(".hero.full-image").length?$("header").addClass("bg-image-version"):$("header").removeClass("bg-image-version")),$("#wave").length){var a=new SiriWave({container:document.getElementById("wave"),speed:.02,color:"#ffffff",frequency:4,autostart:!0,amplitude:0});setTimeout(function(){a.setAmplitude(1)},1e3)}$(".element-rotate").length&&$(".element-rotate").textrotator({animation:"fade",speed:2e3}),setTimeout(function(){var e=new WOW({boxClass:"box-animate",animateClass:"animated",offset:300,mobile:!0,live:!0,callback:function(e){},scrollContainer:null});e.init()},2e3)}d(),r(),e(),$("body").on("click",'[data-type="ajax-load"]',function(e){function a(){setTimeout(function(){t(i),history.pushState("","new URL: "+i,i)},1e3)}$(".page-overlay").addClass("from-bottom"),setTimeout(function(){$(".right-menu, header, .overlay-bg").removeClass("right-menu-active")},2e3),$(".right-menu ul ul").slideUp(),$(".hassub .plus").removeClass("active"),$("header").removeClass("active");var i=$(this).attr("href");a(),e.preventDefault(),window.onpopstate=function(e){location.reload()}})});